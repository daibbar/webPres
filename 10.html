<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Structures et Typedefs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', sans-serif; }
        code { font-family: 'Fira Code', monospace; }
        
        .text-brand-blue { color: #2F6BF1; }
        .bg-brand-blue { background-color: #2F6BF1; }
        .bg-brand-pill { background-color: #E0F1FD; }
        .text-brand-pill { color: #2B7CB6; }
        .border-brand-blue { border-color: #2F6BF1; }

        /* --- ANIMATIONS --- */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-enter { animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }

        /* Card States */
        .struct-card {
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            opacity: 0.5; 
            transform: scale(0.98);
            border-color: transparent;
            background-color: #F8FAFC; /* Slate-50 */
        }
        .struct-card.active {
            opacity: 1;
            transform: scale(1.02);
            box-shadow: 0 20px 40px -5px rgba(47, 107, 241, 0.15);
            z-index: 10;
            border-color: #2F6BF1;
            background-color: white;
        }

        /* Syntax Highlighting */
        .code-base { color: #ABB2BF; }
        .code-keyword { color: #C678DD; } /* typedef, struct */
        .code-type { color: #E5C07B; } /* int */
        .code-var { color: #E06C75; } /* variables */
        .code-def { color: #61AFEF; } /* Struct names */
        .code-comment { color: #7F848E; font-style: italic; }
        .code-include { color: #98C379; } /* includes */

        /* Scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #282C34; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #4B5563; border-radius: 3px; }
    </style>
</head>
<body class="bg-white min-h-screen flex flex-col items-center justify-center p-8 relative overflow-hidden">

    <div class="animate-enter bg-brand-pill text-brand-pill px-6 py-2 rounded-full font-bold text-xs md:text-sm tracking-wide shadow-sm mb-8 uppercase">
        04. Implémentation
    </div>

    <div class="animate-enter delay-1 text-center mb-12">
        <h2 class="text-3xl md:text-5xl font-black text-slate-900 uppercase tracking-tight">
            STRUCTURES & <span class="text-brand-blue">TYPEDEFS</span>
        </h2>
        <p class="mt-4 text-slate-500 font-medium text-lg max-w-2xl mx-auto">
            Définition des données pour l'algorithme de Kruskal
        </p>
    </div>

    <div class="w-full max-w-7xl grid grid-cols-1 lg:grid-cols-2 gap-12 items-start px-4 h-[500px]">

        <div class="space-y-6 flex flex-col justify-center h-full pr-4">
            
            <div class="animate-enter delay-1 mb-2 px-2">
                <p class="text-slate-600 text-sm leading-relaxed">
                    Avant de coder la logique, nous devons structurer la mémoire. Ces définitions sont cruciales pour la gestion efficace des ensembles disjoints et le tri.
                </p>
            </div>

            <div class="animate-enter delay-2 struct-card border-2 p-6 rounded-2xl cursor-pointer" id="card-0">
                <div class="flex items-center gap-3 mb-2">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center text-brand-blue">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">1. Structure Edge (Arête)</h3>
                </div>
                <p class="text-slate-600 leading-relaxed text-sm font-medium">
                    Représente une connexion dans le graphe. Elle contient la source, la destination et surtout le <strong>poids</strong>, qui servira de critère de tri pour l'approche gloutonne.
                </p>
            </div>

            <div class="animate-enter delay-2 struct-card border-2 p-6 rounded-2xl cursor-pointer" id="card-1">
                <div class="flex items-center gap-3 mb-2">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center text-green-600">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>
                    </div>
                    <h3 class="text-xl font-bold text-slate-800">2. Structure Subset</h3>
                </div>
                <p class="text-slate-600 leading-relaxed text-sm font-medium">
                    Optimise <strong>Union-Find</strong>. Le <code>parent</code> permet de trouver la racine (Find), et le <code>rank</code> garde l'arbre plat lors des fusions (Union), garantissant une complexité quasi-constante.
                </p>
            </div>

        </div>

        <div class="animate-enter delay-2 relative w-full rounded-2xl overflow-hidden shadow-2xl bg-[#282C34] border border-slate-700/50 flex flex-col h-full max-h-[500px]">
            
            <div class="bg-[#21252B] px-4 py-3 flex items-center gap-2 border-b border-slate-700 shrink-0">
                <div class="w-3 h-3 rounded-full bg-red-500"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                <div class="w-3 h-3 rounded-full bg-green-500"></div>
                <span class="ml-4 text-xs text-slate-400 font-mono">structs.c</span>
            </div>

            <div class="p-6 overflow-y-auto custom-scrollbar grow text-[#ABB2BF] scroll-smooth" id="code-container">
                <pre class="text-sm leading-relaxed"><code>
<span class="code-include">#include</span> &lt;stdio.h&gt;
<span class="code-include">#include</span> &lt;stdlib.h&gt;

<span class="code-comment">// ---------------------------------</span>
<span class="code-comment">// 01. Structure pour représenter une arête</span>
<span class="code-keyword">typedef struct</span> {
    <span class="code-type">int</span> <span class="code-var">src</span>;    <span class="code-comment">// Sommet source</span>
    <span class="code-type">int</span> <span class="code-var">dest</span>;   <span class="code-comment">// Sommet destination</span>
    <span class="code-type">int</span> <span class="code-var">weight</span>; <span class="code-comment">// Poids (Coût)</span>
} <span class="code-def">Edge</span>;

<span class="code-comment">// ---------------------------------</span>
<span class="code-comment">// 02. Structure pour Union-Find</span>
<span class="code-keyword">typedef struct</span> {
    <span class="code-type">int</span> <span class="code-var">parent</span>; <span class="code-comment">// Représentant de l'ensemble</span>
    <span class="code-type">int</span> <span class="code-var">rank</span>;   <span class="code-comment">// Profondeur approximative</span>
} <span class="code-def">Subset</span>;

<span class="code-comment">/*
 Les typedefs permettent d'utiliser 'Edge' 
 et 'Subset' directement dans le code sans 
 répéter le mot-clé 'struct' à chaque fois.
*/</span>
                </code></pre>
            </div>
            
            <div class="absolute top-0 right-0 w-64 h-64 bg-brand-blue opacity-5 blur-[100px] pointer-events-none"></div>
        </div>

    </div>

    <button id="next-btn" class="absolute bottom-8 right-24 z-50 bg-brand-pill hover:bg-blue-200 text-brand-blue p-4 rounded-full shadow-lg transition-all active:scale-95 group cursor-pointer animate-enter delay-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
        </svg>
    </button>

    <div class="absolute bottom-6 right-8 text-slate-300 font-bold text-sm">
        6/
    </div>

    <script>
        const cards = document.querySelectorAll('.struct-card');
        const nextBtn = document.getElementById('next-btn');
        const codeContainer = document.getElementById('code-container');
        
        // Positions de scroll approximatives (en pixels)
        const scrollPositions = [40, 200]; 

        let currentIndex = 0;

        updateState();

        function updateState() {
            // Cards Visual State
            cards.forEach((card, index) => {
                if (index === currentIndex) {
                    card.classList.add('active');
                } else {
                    card.classList.remove('active');
                }
            });

            // Scroll Code
            codeContainer.scrollTo({
                top: scrollPositions[currentIndex],
                behavior: 'smooth'
            });
        }

        function goNext() {
            if (currentIndex < cards.length - 1) {
                currentIndex++;
            } else {
                currentIndex = 0;
            }
            updateState();
        }

        function goPrev() {
            if (currentIndex > 0) {
                currentIndex--;
            } else {
                currentIndex = cards.length - 1;
            }
            updateState();
        }

        nextBtn.addEventListener('click', goNext);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') goNext();
            if (e.key === 'ArrowLeft') goPrev();
        });

        cards.forEach((card, index) => {
            card.addEventListener('click', () => {
                currentIndex = index;
                updateState();
            });
        });
    </script>
</body>
</html>